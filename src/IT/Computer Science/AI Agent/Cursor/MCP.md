# MCP

<aside>
💡

Model Context Protocol.
LLM에 컨텍스트와 도구를 제공하는 방식을 표준화하는 개방형 프로토콜.

쉽게 말해 AI 모델이 외부 시스템이나 DB로부터 정보를 효율적으로 받아들이고 활용할 수 있도록 설계된 통신 및 데이터 전송 방식.

학습 데이터에 없는 최신 정보나 특정 사용자의 개인 데이터를 필요로 할 때 이러한 정보를 효과적으로 전달하는 역할.

</aside>

### 아키텍처

- **MCP 서버**
    - 표준화 프로토콜을 통해 특정 능력을 방출하는 경량형 프로그램.
    - 커서와 외부 도구 혹은 데이터 소스 사이의 중개자 역할.
    - **타입**
        - **stdio Transport**
            - 로컬 머신을 실행.
            - 커서에 의해 자동적으로 관리됨.
            - stdout을 통해 직접적으로 의사소통.
            - 로컬에서 나만 접근 가능.
            - **인풋**
                - Cursor가 자동으로 실행하는 유효한 셸 명령
        - **SSE Transport**
            - 로컬 혹은 외부에서 실행 가능.
            - 나에 의해 관리되고 실행됨.
            - 네트워크를 넘은 의사소통.
            - 머신을 건너는 공유가 가능.
            - **인풋**
                - Cursor 외부의 MCP 서버의 `/see` 엔드포인트에 대한 URL.
- **MCP 호스트**
    - 생성 AI 모델을 탑재하는 앱.
    - MCP 클라이언트를 통해 외부 데이터나 툴을 액세스.
- **MCP 클라이언트**
    - MCP 호스트 내에 포함된 컴포넌트로, MCP 서버와의 통신을 담당.
    - 클라이언트와 서버의 접속을 확립해 자원, 툴, 프롬프트 등의 기능을 이용하기 위해 요청을 송신.

### 작동방식

1. 질문 분석 및 정보 검색
    - 유저의 질문을 분석해 어떤 추가 정보가 필요한지 파악
2. 데이터 압축 및 요약
    - AI 모델의 컨텍스트 창에 맞춰 핵심 내용을 요약해 필요한 부분 추출
3. 컨텍스트 삽입
    - AI 모델이 이해할 수 있는 형식으로 가공된 후, 사용자의 원래 질문과 함께 프롬프트에 추가
4. 답변 생성
    - 외부 정보가 포함된 프롬프트를 받은 AI 모델이 그 정보를 바탕으로 훨씬 더 정확하고 시의적절한 답변 생성