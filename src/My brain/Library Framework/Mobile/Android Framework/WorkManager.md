# WorkManager

<aside>
💡 작업 스케줄링, 관리를 담당하는 컴포넌트.
주로 백그라운드에서 실행되어야 하는 작업들을 처리하는 데 사용.
예를 들어 데이터 동기화, 데이터베이스 정리, 파일 업로드, 다운로드, 푸쉬 알림 전송 등이 포함.
JobScheduler, AlaramManager, Fireabse JobDispatcher, Service의 대안.

</aside>

### 특징

1. 호환성
    - 여러 안드로이드 버전에서 사용할 수 있도록 설계됨.
    - API 14 이상에서 지원.
2. 유연한 작업 스케줄링
    - 다양한 제약 조건에 따라 작업 스케줄링 가능
        - ex) 충전 중, 네트워크 연결
3. 작업 체이닝과 병렬 실행
    - 여러 작업을 체이닝해 순차적으로 실행하거나 병렬로 실행할 수 있도록 지원
4. 생명주기 인식
    - 안드로이드 애플리케이션의 생명주기를 고려해 작업을 관리. 앱이 종료되어도 작업이 중단되지 않고 유지될 수 있음.
5. 간편한 사용
    - 일회성 작업, 반복 작업 등을 쉽게 정의해 실행할 수 있는 API를 제공해 개발자가 간편하게 작업 관리.

### 주 사용 예시

- 서버에 로그 업로드
- FCM으로부터의 푸쉬 알림 수신

<aside>
⚠️ 모든 작업을 WorkManager로 사용하는 것은 올바르지 않음. 현재 보고 있는 UI를 빠르게 변경하는 작업, 결제 진행 등 즉시 처리해야하는 작업은 ForegroundService나 ThreadPool, Flow 등을 사용.

</aside>

**Worker**

추상 클래스.

처리해야 하는 백그라운드 작업 처리 코드(work)를 개발자가 작성.

작업 결과에 따라 Result를 반환.

- doWork: Worker가 처리할 Work 내용을 포함한 오버라이드 함수.

**WorkManager**

싱글톤.

처리해야 하는 작업 요청을 큐에 넣어 관리.

**WorkRequest**

WorkManager의 큐에 등록해 요청하게 될 개별 작업 단위.

처리해야할 작업(Work)와 작업 반복 여부, 실행 조건, 제약 사항 등에 대한 정보가 있음.

- onTimeWorkRequest: 반복하지 않을 작업 요청.
- PeriodicWOrkRequest: 여러번 실행할 작업 요청.

**WorkState**

WorkRequest의 ID, 현재 상태를 포함.

상태 정보를 이용해 개발자가 요청한 작업의 현재 상태 파악 가능.