# 유닛 테스트 학파

### 디트로이트 학파

- 상태 검증.
- 켄트 백의 TDD로 원론적으로 접근하는 방식. Classicist라고도 불림.
- 의존성을 갖는 여러 클래스를 군으로 묶어 한 번에 테스트.

### 런던 학파

- 행위 검증.
- 런던 프로그래밍 커뮤니티에서 시작. Mockist라고도 불림.
- 의존하는 모든 다른 클래스를 테스트 대역(Test double)으로 대체.
- 테스트가 실패하면 의존성이 없기 때문에 테스트 대상 만의 문제라는 것을 알 수 있음.
- 객체 그래프 분할 가능.
- 지침이 있다면 전체 단위 테스트 스위트를 간단한 구조로 만들 수 있음.

**디트로이트 vs 런던**

- 외부 API를 호출하는 기능을 테스트하는 경우는 런던 학파 방법이 좋음.
- 요구 사항이 자주 바뀌면 런던 학파 방법이 좋음.
- 내부 장애가 발생한 경우에도 런던 학파 방법이 더 좋음.

**SUT(System Under Test)**

테스트 대상 시스템.

- AUT(Application Under Test), MUT(Method Under Test), CUT(Class Under Test), OUT(Object Under Test) 등으로 나뉘기도 함.

**협력 객체**

SUT가 의존하는 연관관계를 갖는 클래스.

**Test Double**

실제 객체의 행위가 테스트하기 어렵거나 비용이 많이 들 때 사용하는 가짜 객체.

Dummy, Fake, Mock, Spy, Stub 등 단어를 사용.

- Stub
    - 호출됐을 때 미리 정해진 결과를 반환하는 객체
- Fake
    - 실제로 동작하지만, 조금 더 가벼운 버전의 구현을 사용해 테스트의 속도를 상승시키는 방법.
- Spy
    - Stub + 호출된 함수의 정보를 기록해 나중에 테스트할 때 사용할 수 있는 객체.
- Dummy
    - 인스턴스화 된 객체가 필요하지만, 기능은 필요가 없어서 실제로 사용되지 않는 경우 사용하는 객체.
- Mock
    - 호출에 대해서 어떤 것을 호출하고 어떤 것을 반환할지 미리 지정한 객체.